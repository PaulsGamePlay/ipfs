/*! lazysizes - v5.2.1 */
function arrayContainsArray(e,t){return 0!==t.length&&t.every(function(t){return e.indexOf(t)>=0})}function unique(e,t,n){return n.indexOf(e)==t}function cartesianProduct(e){var t,n,r,o,i,a=[];if(!e||0==e.length)return e;for(i=e.splice(0,1)[0],e=cartesianProduct(e),t=0,r=i.length;t<r;t++)if(e&&e.length)for(n=0,o=e.length;n<o;n++)a.push([i[t]].concat(e[n]));else a.push([i[t]]);return a}function enableAddButton(e){var t=$(".add-to-cart-button"),n=t.attr("data-add-title");t.attr("disabled",!1),priceTitle=e?" - "+Format.money(e,!0,!0):"",t.html(n+priceTitle)}function disableAddButton(e){var t=$(".add-to-cart-button"),n=t.attr("data-add-title");if("sold-out"==e)n=t.attr("data-sold-title");t.is(":disabled")||t.attr("disabled","disabled"),t.html(n)}function enableSelectOption(e){e.removeAttr("disabled"),e.text(e.attr("data-name")),e.removeAttr("disabled-type"),e.parent().is("span")&&e.unwrap()}function disableSelectOption(e,t){if("sold-out"===t&&(disabled_text=e.parent().attr("data-sold-text"),disabled_type="sold-out","false"===show_sold_out_product_options?hide_option=!0:hide_option=!1),"unavailable"===t&&(disabled_text=e.parent().attr("data-unavailable-text"),disabled_type="unavailable",hide_option=!0),e.val()>0){var n=e.attr("data-name");e.attr("disabled",!0),e.text(n+" "+disabled_text),e.attr("disabled-type",disabled_type),!0===hide_option&&(e.parent().is("span")||e.wrap("<span>"))}}function draw_pattern(){if(pattern_style=themeOptions.pattern_style,store_name_length=themeOptions.store_name.length,canvas_element=document.getElementById("repeating-pattern"),primary_color=themeOptions.primary_color.toLowerCase(),secondary_color=themeOptions.secondary_color.toLowerCase(),pattern_width=window.innerWidth>0?window.innerWidth:screen.width,"home"==themeOptions.page&&(themeOptions.in_preview?$("#pattern").css("height","700px"):(pattern_width<668||$("#pattern").hasClass("hide-featured"))&&(announce_height=$(".announcement-message.visible").outerHeight()>0?$(".announcement-message.visible").outerHeight():0,pattern_calc=announce_height+$(".header").outerHeight(),$("#pattern").css("height","calc(100vh - "+pattern_calc+"px)"))),("small-triangles"==pattern_style||"large-triangles"==pattern_style)&&(pattern_height=$("#pattern").height(),"transparent"!=primary_color&&"transparent"!=secondary_color)){if($(canvas_element).width(pattern_width+"px"),"small-triangles"==pattern_style)var e=5*store_name_length;if("large-triangles"==pattern_style)e=35*store_name_length;Trianglify({width:pattern_width,height:pattern_height,cell_size:e,seed:1,variance:1,x_colors:[primary_color,secondary_color,primary_color]}).canvas(canvas_element)}}function processProduct(e){e.has_option_groups&&(disableAddButton("add-to-cart"),setInitialProductOptionStatuses(e),$(".product_option_group").on("change",function(){disableAddButton("add-to-cart"),$("#option").val(0),processAvailableDropdownOptions(e,$(this))}),$("#option").val()>0&&enableAddButton()),$(".product_option_select").length&&(disableAddButton(),"false"===show_sold_out_product_options&&$('option[disabled-type="sold-out"]').wrap("<span>")),$(".reset-selection-button").on("click",function(){disableAddButton("add-to-cart"),$("#option").val(0),$(this).hide(),$(".product_option_group option").each(function(e,t){t.value>0&&enableSelectOption($(t))}),setInitialProductOptionStatuses(e)})}function createCartesianProductOptions(e){for(product_option_groups=[],ogIndex=0;ogIndex<e.option_groups.length;ogIndex++){for(product_option_group_group_values=[],ogvIndex=0;ogvIndex<e.option_groups[ogIndex].values.length;ogvIndex++)product_option_group_group_values.push(e.option_groups[ogIndex].values[ogvIndex].id);product_option_groups.push(product_option_group_group_values)}return cartesianProduct(product_option_groups)}function setInitialProductOptionStatuses(e){for(product_option_group_values=[],ogIndex=0;ogIndex<e.option_groups.length;ogIndex++)for(ogvIndex=0;ogvIndex<e.option_groups[ogIndex].values.length;ogvIndex++)product_option_group_values.push(e.option_groups[ogIndex].values[ogvIndex].id);for(cartesian_options=createCartesianProductOptions(e),pogv=0;pogv<product_option_group_values.length;pogv++){var t=product_option_group_values[pogv],n=0,r=0,o=0;for(co=0;co<cartesian_options.length;co++)cartesian_options[co].includes(t)&&(product_option=findProductOptionByValueArray(e.options,cartesian_options[co]),product_option&&(o++,product_option.sold_out&&r++),n++);dropdown_select=$(".product_option_group option[value='"+t+"']"),0!==o&&n!==r&&o!==r||(0===o&&(disable_type="unavailable"),n!==r&&o!==r||(disable_type="sold-out"),disableSelectOption(dropdown_select,disable_type))}}function processAvailableDropdownOptions(e,t){if(selected_values=getSelectedValues(),num_selected=selected_values.count(e=>e>0),allSelected=selected_values.every(isGreaterThanZero),num_option_groups=e.option_groups.length,changed_value=parseInt(t.val()),selected_value=[],selected_value.push(changed_value),this_group_id=t.attr("data-group-id"),$(".product_option_group").not(t).find("option").each(function(e,t){t.value>0&&enableSelectOption($(t))}),cartesian_options=createCartesianProductOptions(e),1===num_selected&&num_option_groups>1)for(ogIndex=0;ogIndex<e.option_groups.length;ogIndex++){var n=e.option_groups[ogIndex];if(n.id!=this_group_id)for(ogvIndex=0;ogvIndex<n.values.length;ogvIndex++){var r=n.values[ogvIndex];option_group_value_array=[],option_group_value_array.push(changed_value),option_group_value_array.push(parseInt(r.id));var o=0,a=0,s=0;for(co=0;co<cartesian_options.length;co++)arrayContainsArray(cartesian_options[co],option_group_value_array)&&(product_option=findProductOptionByValueArray(e.options,cartesian_options[co]),product_option&&(s++,product_option.sold_out&&a++),o++);dropdown_select=$(".product_option_group option[value='"+r.id+"']"),0!==s&&o!==a&&s!==a||(0===s&&(disable_type="unavailable"),o!==a&&s!==a||(disable_type="sold-out"),disableSelectOption(dropdown_select,disable_type))}}if(2===num_selected&&3===num_option_groups)for($(".product_option_group").each(function(e,t){0==t.value&&(unselected_group_id=parseInt($(t).attr("data-group-id")))}),ogIndex=0;ogIndex<e.option_groups.length;ogIndex++)if((n=e.option_groups[ogIndex]).id!=this_group_id)for(ogvIndex=0;ogvIndex<n.values.length;ogvIndex++){r=n.values[ogvIndex],option_group_value_array=[],option_group_value_array.push(changed_value),option_group_value_array.push(parseInt(r.id));o=0,a=0,s=0;for(co=0;co<cartesian_options.length;co++)arrayContainsArray(cartesian_options[co],option_group_value_array)&&(product_option=findProductOptionByValueArray(e.options,cartesian_options[co]),product_option&&(s++,product_option.sold_out&&a++),o++);if(n.id===unselected_group_id){for(option_group_value_array=[],option_group_value_array.push(parseInt(r.id)),svIndex=0;svIndex<selected_values.length;svIndex++)selected_values[svIndex]>0&&option_group_value_array.push(selected_values[svIndex]);product_option=findProductOptionByValueArray(e.options,option_group_value_array),dropdown_select=$(".product_option_group option[value='"+r.id+"']"),product_option?product_option.sold_out&&disableSelectOption(dropdown_select,"sold-out"):disableSelectOption(dropdown_select,"unavailable")}dropdown_select=$(".product_option_group option[value='"+r.id+"']"),0!==s&&o!==a&&s!==a||(0===s&&(disable_type="unavailable"),o!==a&&s!==a||(disable_type="sold-out"),disableSelectOption(dropdown_select,disable_type))}num_selected>1&&allSelected&&$(".product_option_group").not(t).each(function(t,n){(n=$(n)).find("option").each(function(t,r){if(is_selected=$(r).is(":selected"),!is_selected&&r.value>0)for(option_group_value_array=[],option_group_value_array.push(parseInt(r.value)),$(".product_option_group").not(n).each(function(e,t){option_group_value_array.push(parseInt(t.value))}),product_option=findProductOptionByValueArray(e.options,option_group_value_array),i=0;i<option_group_value_array.length;i++)dropdown_select=$(".product_option_group option[value='"+option_group_value_array[i]+"']").not(":selected"),dropdown_select&&(product_option?product_option.sold_out?disableSelectOption(dropdown_select,"sold-out"):enableSelectOption(dropdown_select):disableSelectOption(dropdown_select,"unavailable"))})}),allSelected&&(product_option=findProductOptionByValueArray(e.options,selected_values),product_option&&!product_option.sold_out&&product_option.id>0?($("#option").val(product_option.id),enableAddButton(product_option.price),num_option_groups>1&&$(".reset-selection-button").fadeIn("fast")):disableAddButton("sold-out"))}function findProductOptionByValueArray(e,t){for(var n=0;n<e.length;n++)if(option_group_values=e[n].option_group_values,option_ids=[],option_group_values.forEach(function(e){option_ids.push(e.id)}),arrayContainsArray(option_ids,t))return e[n]}function getSelectedValues(){return selected_values=[],$(".product_option_group").each(function(e,t){selected_values.push(parseInt(t.value))}),selected_values}function strip_tags(e){return new_string=e.replace(/<(.|\n)*?>/g,""),new_string}!function(e){var t=function(e,t,n){"use strict";var r,o;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in o=e.lazySizesConfig||e.lazysizesConfig||{},n)t in o||(o[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:o,noSupport:!0};var i=t.documentElement,a=e.HTMLPictureElement,s="addEventListener",l="getAttribute",f=e[s].bind(e),d=e.setTimeout,u=e.requestAnimationFrame||d,c=e.requestIdleCallback,p=/^picture$/i,h=["load","error","lazyincluded","_lazyloaded"],b={},g=Array.prototype.forEach,v=function(e,t){return b[t]||(b[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),b[t].test(e[l]("class")||"")&&b[t]},m=function(e,t){v(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},y=function(e,t){var n;(n=v(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},_=function(e,t,n){var r=n?s:"removeEventListener";n&&_(e,t),h.forEach(function(n){e[r](n,t)})},w=function(e,n,o,i,a){var s=t.createEvent("Event");return o||(o={}),o.instance=r,s.initEvent(n,!i,!a),s.detail=o,e.dispatchEvent(s),s},x=function(t,n){var r;!a&&(r=e.picturefill||o.pf)?(n&&n.src&&!t[l]("srcset")&&t.setAttribute("srcset",n.src),r({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},C=function(e,t){return(getComputedStyle(e,null)||{})[t]},A=function(e,t,n){for(n=n||e.offsetWidth;n<o.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},z=function(){var e,n,r=[],o=[],i=r,a=function(){var t=i;for(i=r.length?o:r,e=!0,n=!1;t.length;)t.shift()();e=!1},s=function(r,o){e&&!o?r.apply(this,arguments):(i.push(r),n||(n=!0,(t.hidden?d:u)(a)))};return s._lsFlush=a,s}(),$=function(e,t){return t?function(){z(e)}:function(){var t=this,n=arguments;z(function(){e.apply(t,n)})}},k=function(e){var t,r=0,i=o.throttleDelay,a=o.ricTimeout,s=function(){t=!1,r=n.now(),e()},l=c&&a>49?function(){c(s,{timeout:a}),a!==o.ricTimeout&&(a=o.ricTimeout)}:$(function(){d(s)},!0);return function(e){var o;(e=!0===e)&&(a=33),t||(t=!0,(o=i-(n.now()-r))<0&&(o=0),e||o<9?l():d(l,o))}},E=function(e){var t,r,o=99,i=function(){t=null,e()},a=function(){var e=n.now()-r;e<o?d(a,o-e):(c||i)(i)};return function(){r=n.now(),t||(t=d(a,o))}},M=function(){var a,c,h,b,A,M,I,j,L,P,S,O,T=/^img$/i,q=/^iframe$/i,B="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),F=0,U=0,H=0,R=-1,D=function(e){H--,(!e||H<0||!e.target)&&(H=0)},W=function(e){return null==O&&(O="hidden"==C(t.body,"visibility")),O||!("hidden"==C(e.parentNode,"visibility")&&"hidden"==C(e,"visibility"))},G=function(e,n){var r,o=e,a=W(e);for(j-=n,S+=n,L-=n,P+=n;a&&(o=o.offsetParent)&&o!=t.body&&o!=i;)(a=(C(o,"opacity")||1)>0)&&"visible"!=C(o,"overflow")&&(r=o.getBoundingClientRect(),a=P>r.left&&L<r.right&&S>r.top-1&&j<r.bottom+1);return a},Y=function(){var e,n,s,f,d,u,p,h,g,v,m,y,_=r.elements;if((b=o.loadMode)&&H<8&&(e=_.length)){for(n=0,R++;n<e;n++)if(_[n]&&!_[n]._lazyRace)if(!B||r.prematureUnveil&&r.prematureUnveil(_[n]))te(_[n]);else if((h=_[n][l]("data-expand"))&&(u=1*h)||(u=U),v||(v=!o.expand||o.expand<1?i.clientHeight>500&&i.clientWidth>500?500:370:o.expand,r._defEx=v,m=v*o.expFactor,y=o.hFac,O=null,U<m&&H<1&&R>2&&b>2&&!t.hidden?(U=m,R=0):U=b>1&&R>1&&H<6?v:F),g!==u&&(M=innerWidth+u*y,I=innerHeight+u,p=-1*u,g=u),s=_[n].getBoundingClientRect(),(S=s.bottom)>=p&&(j=s.top)<=I&&(P=s.right)>=p*y&&(L=s.left)<=M&&(S||P||L||j)&&(o.loadHidden||W(_[n]))&&(c&&H<3&&!h&&(b<3||R<4)||G(_[n],u))){if(te(_[n]),d=!0,H>9)break}else!d&&c&&!f&&H<4&&R<4&&b>2&&(a[0]||o.preloadAfterLoad)&&(a[0]||!h&&(S||P||L||j||"auto"!=_[n][l](o.sizesAttr)))&&(f=a[0]||_[n]);f&&!d&&te(f)}},V=k(Y),X=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(D(e),m(t,o.loadedClass),y(t,o.loadingClass),_(t,Z),w(t,"lazyloaded"))},Q=$(X),Z=function(e){Q({target:e.target})},K=function(e,t){try{e.contentWindow.location.replace(t)}catch(A){e.src=t}},J=function(e){var t,n=e[l](o.srcsetAttr);(t=o.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},ee=$(function(e,t,n,r,i){var a,s,f,u,c,b;(c=w(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(n?m(e,o.autosizesClass):e.setAttribute("sizes",r)),s=e[l](o.srcsetAttr),a=e[l](o.srcAttr),i&&(u=(f=e.parentNode)&&p.test(f.nodeName||"")),b=t.firesLoad||"src"in e&&(s||a||u),c={target:e},m(e,o.loadingClass),b&&(clearTimeout(h),h=d(D,2500),_(e,Z,!0)),u&&g.call(f.getElementsByTagName("source"),J),s?e.setAttribute("srcset",s):a&&!u&&(q.test(e.nodeName)?K(e,a):e.src=a),i&&(s||u)&&x(e,{src:a})),e._lazyRace&&delete e._lazyRace,y(e,o.lazyClass),z(function(){var t=e.complete&&e.naturalWidth>1;b&&!t||(t&&m(e,"ls-is-cached"),X(c),e._lazyCache=!0,d(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&H--},!0)}),te=function(e){if(!e._lazyRace){var t,n=T.test(e.nodeName),r=n&&(e[l](o.sizesAttr)||e[l]("sizes")),i="auto"==r;(!i&&c||!n||!e[l]("src")&&!e.srcset||e.complete||v(e,o.errorClass)||!v(e,o.lazyClass))&&(t=w(e,"lazyunveilread").detail,i&&N.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,H++,ee(e,t,i,r,n))}},ne=E(function(){o.loadMode=3,V()}),re=function(){3==o.loadMode&&(o.loadMode=2),ne()},oe=function(){c||(n.now()-A<999?d(oe,999):(c=!0,o.loadMode=3,V(),f("scroll",re,!0)))};return{_:function(){A=n.now(),r.elements=t.getElementsByClassName(o.lazyClass),a=t.getElementsByClassName(o.lazyClass+" "+o.preloadClass),f("scroll",V,!0),f("resize",V,!0),f("pageshow",function(e){if(e.persisted){var n=t.querySelectorAll("."+o.loadingClass);n.length&&n.forEach&&u(function(){n.forEach(function(e){e.complete&&te(e)})})}}),e.MutationObserver?new MutationObserver(V).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[s]("DOMNodeInserted",V,!0),i[s]("DOMAttrModified",V,!0),setInterval(V,999)),f("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){t[s](e,V,!0)}),/d$|^c/.test(t.readyState)?oe():(f("load",oe),t[s]("DOMContentLoaded",V),d(oe,2e4)),r.elements.length?(Y(),z._lsFlush()):V()},checkElems:V,unveil:te,_aLSL:re}}(),N=function(){var e,n=$(function(e,t,n,r){var o,i,a;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),p.test(t.nodeName||""))for(i=0,a=(o=t.getElementsByTagName("source")).length;i<a;i++)o[i].setAttribute("sizes",r);n.detail.dataAttr||x(e,n.detail)}),r=function(e,t,r){var o,i=e.parentNode;i&&(r=A(e,i,r),(o=w(e,"lazybeforesizes",{width:r,dataAttr:!!t})).defaultPrevented||(r=o.detail.width)&&r!==e._lazysizesWidth&&n(e,i,o,r))},i=E(function(){var t,n=e.length;if(n)for(t=0;t<n;t++)r(e[t])});return{_:function(){e=t.getElementsByClassName(o.autosizesClass),f("resize",i)},checkElems:i,updateElem:r}}(),I=function(){!I.i&&t.getElementsByClassName&&(I.i=!0,N._(),M._())};return d(function(){o.init&&I()}),r={cfg:o,autoSizer:N,loader:M,init:I,uP:x,aC:m,rC:y,hC:v,fire:w,gW:A,rAF:z}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{}),function(e,t){if(e){var n=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}}("undefined"!=typeof window?window:0,function(e,t,n){"use strict";var r=function(){var o,i,a,s,l,f,d,u=n.cfg,c={"data-bgset":1,"data-include":1,"data-poster":1,"data-bg":1,"data-script":1},p="(\\s|^)("+u.loadedClass,h=t.documentElement,b=function(e){n.rAF(function(){n.rC(e,u.loadedClass),u.unloadedClass&&n.rC(e,u.unloadedClass),n.aC(e,u.lazyClass),("none"==e.style.display||e.parentNode&&"none"==e.parentNode.style.display)&&setTimeout(function(){n.loader.unveil(e)},0)})},g=function(e){var t,n,r,o;for(t=0,n=e.length;t<n;t++)(o=(r=e[t]).target).getAttribute(r.attributeName)&&("source"==o.localName&&o.parentNode&&(o=o.parentNode.querySelector("img")),o&&p.test(o.className)&&b(o))};u.unloadedClass&&(p+="|"+u.unloadedClass),p+="|"+u.loadingClass+")(\\s|$)",p=new RegExp(p),c[u.srcAttr]=1,c[u.srcsetAttr]=1,e.MutationObserver?(a=new MutationObserver(g),o=function(){s||(s=!0,a.observe(h,{subtree:!0,attributes:!0,attributeFilter:Object.keys(c)}))},i=function(){s&&(s=!1,a.disconnect())}):(h.addEventListener("DOMAttrModified",(f=[],d=function(){g(f),f=[],l=!1},function(e){s&&c[e.attrName]&&e.newValue&&(f.push({target:e.target,attributeName:e.attrName}),l||(setTimeout(d),l=!0))}),!0),o=function(){s=!0},i=function(){s=!1}),addEventListener("lazybeforeunveil",i,!0),addEventListener("lazybeforeunveil",o),addEventListener("lazybeforesizes",i,!0),addEventListener("lazybeforesizes",o),o(),removeEventListener("lazybeforeunveil",r)};addEventListener("lazybeforeunveil",r)}),function(e,t){if(e){var n=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}}("undefined"!=typeof window?window:0,function(e,t,n){"use strict";var r=[].slice,o=/blur-up["']*\s*:\s*["']*(always|auto)/,i=/image\/(jpeg|png|gif|svg\+xml)/,a="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s=function(t){var r=t.getAttribute("data-media")||t.getAttribute("media"),o=t.getAttribute("type");return(!o||i.test(o))&&(!r||e.matchMedia(n.cfg.customMedia[r]||r).matches)},l=function(e,t){var n;return(e?r.call(e.querySelectorAll("source, img")):[t]).forEach(function(e){if(!n){var t=e.getAttribute("data-lowsrc");t&&s(e)&&(n=t)}}),n},f=function(e,r,o,i){var a,s=!1,l=!1,f="always"==i?0:Date.now(),d=0,u=(e||r).parentNode,c=function(){a&&n.rAF(function(){n.rC(r,"ls-blur-up-is-loading");try{a.parentNode.removeChild(a)}catch(e){}a=null})},p=function(e){d++,l=e||l,e?c():d>1&&setTimeout(c,5e3)},h=function(){r.removeEventListener("load",h),r.removeEventListener("error",h),a&&n.rAF(function(){a&&n.aC(a,"ls-original-loaded")}),"always"!=i&&(!s||Date.now()-f<66)?p(!0):p()};(function(){if(o){var f=function(e){s=!0,a||(a=e.target),n.rAF(function(){n.rC(r,"ls-blur-up-is-loading"),a&&n.aC(a,"ls-blur-up-loaded")}),a&&(a.removeEventListener("load",f),a.removeEventListener("error",f))};(a=t.createElement("img")).addEventListener("load",f),a.addEventListener("error",f),a.className="ls-blur-up-img",a.cssText=r.cssText,a.src=o,a.alt="",a.setAttribute("aria-hidden","true"),u.insertBefore(a,(e||r).nextSibling),"always"!=i&&(a.style.visibility="hidden",n.rAF(function(){a&&setTimeout(function(){a&&n.rAF(function(){!l&&a&&(a.style.visibility="")})},n.cfg.blurupCacheDelay||33)}))}})(),r.addEventListener("load",h),r.addEventListener("error",h),n.aC(r,"ls-blur-up-is-loading");var b=function(e){u==e.target&&(n.aC(a||r,"ls-inview"),p(),u.removeEventListener("lazybeforeunveil",b))};u.getAttribute("data-expand")||u.setAttribute("data-expand",-1),u.addEventListener("lazybeforeunveil",b),n.aC(u,n.cfg.lazyClass)};e.addEventListener("lazybeforeunveil",function(e){var t=e.detail;if(t.instance==n&&t.blurUp){var r=e.target,o=r.parentNode;"PICTURE"!=o.nodeName&&(o=null),f(o,r,l(o,r)||a,t.blurUp)}}),e.addEventListener("lazyunveilread",function(e){var t=e.detail;if(t.instance==n){var r=e.target,i=(getComputedStyle(r,null)||{fontFamily:""}).fontFamily.match(o);(i||r.getAttribute("data-lowsrc"))&&(t.blurUp=i&&i[1]||n.cfg.blurupMode||"always")}})}),function(e,t){if(e){var n=function(r){t(e.lazySizes,r),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}}("undefined"!=typeof window?window:0,function(e,t,n,r){"use strict";function o(e){var t=(getComputedStyle(e,null)||{}).fontFamily||"",n=t.match(u)||"",r=n&&t.match(c)||"";return r&&(r=r[1]),{fit:n&&n[1]||"",position:b[r]||r||"center"}}function i(){if(!l){var e=t.createElement("style");l=n.cfg.objectFitClass||"lazysizes-display-clone",t.querySelector("head").appendChild(e)}}function a(e){var t=e.previousElementSibling;t&&n.hC(t,l)&&(t.parentNode.removeChild(t),e.style.position=t.getAttribute("data-position")||"",e.style.visibility=t.getAttribute("data-visibility")||"")}function s(e,t){var r,o,s,f,d=n.cfg,u=function(){var t=e.currentSrc||e.src;t&&o!==t&&(o=t,f.backgroundImage="url("+(h.test(t)?JSON.stringify(t):t)+")",r||(r=!0,n.rC(s,d.loadingClass),n.aC(s,d.loadedClass)))},c=function(){n.rAF(u)};e._lazysizesParentFit=t.fit,e.addEventListener("lazyloaded",c,!0),e.addEventListener("load",c,!0),n.rAF(function(){var r=e,o=e.parentNode;"PICTURE"==o.nodeName.toUpperCase()&&(r=o,o=o.parentNode),a(r),l||i(),s=e.cloneNode(!1),f=s.style,s.addEventListener("load",function(){var e=s.currentSrc||s.src;e&&e!=p&&(s.src=p,s.srcset="")}),n.rC(s,d.loadedClass),n.rC(s,d.lazyClass),n.rC(s,d.autosizesClass),n.aC(s,d.loadingClass),n.aC(s,l),["data-parent-fit","data-parent-container","data-object-fit-polyfilled",d.srcsetAttr,d.srcAttr].forEach(function(e){s.removeAttribute(e)}),s.src=p,s.srcset="",f.backgroundRepeat="no-repeat",f.backgroundPosition=t.position,f.backgroundSize=t.fit,s.setAttribute("data-position",r.style.position),s.setAttribute("data-visibility",r.style.visibility),r.style.visibility="hidden",r.style.position="absolute",e.setAttribute("data-parent-fit",t.fit),e.setAttribute("data-parent-container","prev"),e.setAttribute("data-object-fit-polyfilled",""),e._objectFitPolyfilledDisplay=s,o.insertBefore(s,r),e._lazysizesParentFit&&delete e._lazysizesParentFit,e.complete&&u()})}var l,f=t.createElement("a").style,d="objectFit"in f,u=/object-fit["']*\s*:\s*["']*(contain|cover)/,c=/object-position["']*\s*:\s*["']*(.+?)(?=($|,|'|"|;))/,p="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h=/\(|\)|'/,b={center:"center","50% 50%":"center"};if(!d||!(d&&"objectPosition"in f)){var g=function(e){if(e.detail.instance==n){var t=e.target,r=o(t);return!(!r.fit||d&&"center"==r.position)&&(s(t,r),!0)}};e.addEventListener("lazybeforesizes",function(e){if(e.detail.instance==n){var t=e.target;null==t.getAttribute("data-object-fit-polyfilled")||t._objectFitPolyfilledDisplay||g(e)||n.rAF(function(){t.removeAttribute("data-object-fit-polyfilled")})}}),e.addEventListener("lazyunveilread",g,!0),r&&r.detail&&g(r)}}),function(e,t){if(e){var n=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}}("undefined"!=typeof window?window:0,function(e,t,n){"use strict";if(e.addEventListener){var r=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,o=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,i=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,a=/^picture$/i,s=n.cfg,l=function(e){return getComputedStyle(e,null)||{}},f={getParent:function(t,n){var r=t,o=t.parentNode;return n&&"prev"!=n||!o||!a.test(o.nodeName||"")||(o=o.parentNode),"self"!=n&&(r="prev"==n?t.previousElementSibling:n&&(o.closest||e.jQuery)&&(o.closest?o.closest(n):jQuery(o).closest(n)[0])||o),r},getFit:function(e){var t,n,r=l(e),a=r.content||r.fontFamily,s={fit:e._lazysizesParentFit||e.getAttribute("data-parent-fit")};return!s.fit&&a&&(t=a.match(o))&&(s.fit=t[1]),s.fit?(!(n=e._lazysizesParentContainer||e.getAttribute("data-parent-container"))&&a&&(t=a.match(i))&&(n=t[1]),s.parent=f.getParent(e,n)):s.fit=r.objectFit,s},getImageRatio:function(t){var n,o,i,l,f,d,u,c=t.parentNode,p=c&&a.test(c.nodeName||"")?c.querySelectorAll("source, img"):[t];for(n=0;n<p.length;n++)if(o=(t=p[n]).getAttribute(s.srcsetAttr)||t.getAttribute("srcset")||t.getAttribute("data-pfsrcset")||t.getAttribute("data-risrcset")||"",i=t._lsMedia||t.getAttribute("media"),i=s.customMedia[t.getAttribute("data-media")||i]||i,o&&(!i||(e.matchMedia&&matchMedia(i)||{}).matches)){(l=parseFloat(t.getAttribute("data-aspectratio")))||((f=o.match(r))?"w"==f[2]?(d=f[1],u=f[3]):(d=f[3],u=f[1]):(d=t.getAttribute("width"),u=t.getAttribute("height")),l=d/u);break}return l},calculateSize:function(e,t){var n,r,o,i=this.getFit(e),a=i.fit,s=i.parent;return"width"==a||("contain"==a||"cover"==a)&&(r=this.getImageRatio(e))?(s?t=s.clientWidth:s=e,o=t,"width"==a?o=t:(n=t/s.clientHeight)&&("cover"==a&&n<r||"contain"==a&&n>r)&&(o=t*(r/n)),o):t}};n.parentFit=f,t.addEventListener("lazybeforesizes",function(e){if(!e.defaultPrevented&&e.detail.instance==n){var t=e.target;e.detail.width=f.calculateSize(t,e.detail.width)}})}}),function(e,t){if(e){var n=function(){t(e.lazySizes),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==typeof module&&module.exports?t(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],t):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}}("undefined"!=typeof window?window:0,function(e,t,n){"use strict";var r,o,i,a,s,l,f,d,u,c,p,h,b,g,v,m,y,_,w=n.cfg,x=t.createElement("img"),C="sizes"in x&&"srcset"in x,A=/\s+\d+h/g,z=(o=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,i=Array.prototype.forEach,function(){var e=t.createElement("img"),r=function(e){var t,n,r=e.getAttribute(w.srcsetAttr);r&&(n=r.match(o))&&((t="w"==n[2]?n[1]/n[3]:n[3]/n[1])&&e.setAttribute("data-aspectratio",t),e.setAttribute(w.srcsetAttr,r.replace(A,"")))},a=function(e){if(e.detail.instance==n){var t=e.target.parentNode;t&&"PICTURE"==t.nodeName&&i.call(t.getElementsByTagName("source"),r),r(e.target)}},s=function(){e.currentSrc&&t.removeEventListener("lazybeforeunveil",a)};t.addEventListener("lazybeforeunveil",a),e.onload=s,e.onerror=s,e.srcset="data:,a 1w 1h",e.complete&&s()});(w.supportsType||(w.supportsType=function(e){return!e}),e.HTMLPictureElement&&C)?!n.hasHDescriptorFix&&t.msElementsFromPoint&&(n.hasHDescriptorFix=!0,z()):e.picturefill||w.pf||(w.pf=function(t){var n,o;if(!e.picturefill)for(n=0,o=t.elements.length;n<o;n++)r(t.elements[n])},d=function(e,t){return e.w-t.w},u=/^\s*\d+\.*\d*px\s*$/,c=function(e){for(var t,n,r=e.length,o=e[r-1],i=0;i<r;i++)if((o=e[i]).d=o.w/e.w,o.d>=e.d){!o.cached&&(t=e[i-1])&&t.d>e.d-.13*Math.pow(e.d,2.2)&&(n=Math.pow(t.d-.6,1.6),t.cached&&(t.d+=.15*n),t.d+(o.d-e.d)*n>e.d&&(o=t));break}return o},s=/(([^,\s].[^\s]+)\s+(\d+)w)/g,l=/\s/,f=function(e,t,n,r){a.push({c:t,u:n,w:1*r})},p=function(e){return a=[],(e=e.trim()).replace(A,"").replace(s,f),a.length||!e||l.test(e)||a.push({c:e,u:e,w:99}),a},h=function(){var e,n,o;h.init||(h.init=!0,addEventListener("resize",(n=t.getElementsByClassName("lazymatchmedia"),o=function(){var e,t;for(e=0,t=n.length;e<t;e++)r(n[e])},function(){clearTimeout(e),e=setTimeout(o,66)})))},b=function(t,r){var o,i=t.getAttribute("srcset")||t.getAttribute(w.srcsetAttr);!i&&r&&(i=t._lazypolyfill?t._lazypolyfill._set:t.getAttribute(w.srcAttr)||t.getAttribute("src")),t._lazypolyfill&&t._lazypolyfill._set==i||(o=p(i||""),r&&t.parentNode&&(o.isPicture="PICTURE"==t.parentNode.nodeName.toUpperCase(),o.isPicture&&e.matchMedia&&(n.aC(t,"lazymatchmedia"),h())),o._set=i,Object.defineProperty(t,"_lazypolyfill",{value:o,writable:!0}))},g=function(t){var r=e.devicePixelRatio||1,o=n.getX&&n.getX(t);return Math.min(o||r,2.5,r)},v=function(t){return e.matchMedia?(v=function(e){return!e||(matchMedia(e)||{}).matches})(t):!t},m=function(e){var t,r,o,i,a,s,l;if(b(i=e,!0),(a=i._lazypolyfill).isPicture)for(r=0,o=(t=e.parentNode.getElementsByTagName("source")).length;r<o;r++)if(w.supportsType(t[r].getAttribute("type"),e)&&v(t[r].getAttribute("media"))){i=t[r],b(i),a=i._lazypolyfill;break}return a.length>1?(l=i.getAttribute("sizes")||"",l=u.test(l)&&parseInt(l,10)||n.gW(e,e.parentNode),a.d=g(e),!a.src||!a.w||a.w<l?(a.w=l,s=c(a.sort(d)),a.src=s):s=a.src):s=a[0],s},(y=function(e){if(!C||!e.parentNode||"PICTURE"==e.parentNode.nodeName.toUpperCase()){var t=m(e);t&&t.u&&e._lazypolyfill.cur!=t.u&&(e._lazypolyfill.cur=t.u,t.cached=!0,e.setAttribute(w.srcAttr,t.u),e.setAttribute("src",t.u))}}).parse=p,r=y,w.loadedClass&&w.loadingClass&&(_=[],['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(e){_.push(e+w.loadedClass),_.push(e+w.loadingClass)}),w.pf({elements:t.querySelectorAll(_.join(", "))})))}),function(){"use strict";if("undefined"!=typeof window){var e=window.navigator.userAgent.match(/Edge\/(\d{2})\./),t=!!e&&parseInt(e[1],10)>=16;if(!("objectFit"in document.documentElement.style!=!1)||t){var n=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("position"),r=t.getPropertyValue("overflow"),o=t.getPropertyValue("display");n&&"static"!==n||(e.style.position="relative"),"hidden"!==r&&(e.style.overflow="hidden"),o&&"inline"!==o||(e.style.display="block"),0===e.clientHeight&&(e.style.height="100%"),-1===e.className.indexOf("object-fit-polyfill")&&(e.className=e.className+" object-fit-polyfill")},r=function(e){var t=window.getComputedStyle(e,null),n={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(var r in n){t.getPropertyValue(r)!==n[r]&&(e.style[r]=n[r])}},o=function(e,t,n){var r,o,i,a,s;if((n=n.split(" ")).length<2&&(n[1]=n[0]),"x"===e)r=n[0],o=n[1],i="left",a="right",s=t.clientWidth;else{if("y"!==e)return;r=n[1],o=n[0],i="top",a="bottom",s=t.clientHeight}if(r!==i&&o!==i){if(r!==a&&o!==a)return"center"===r||"50%"===r?(t.style[i]="50%",void(t.style["margin-"+i]=s/-2+"px")):void(r.indexOf("%")>=0?(r=parseInt(r))<50?(t.style[i]=r+"%",t.style["margin-"+i]=s*(r/-100)+"px"):(r=100-r,t.style[a]=r+"%",t.style["margin-"+a]=s*(r/-100)+"px"):t.style[i]=r);t.style[a]="0"}else t.style[i]="0"},i=function(e){var t=e.dataset?e.dataset.objectFit:e.getAttribute("data-object-fit"),i=e.dataset?e.dataset.objectPosition:e.getAttribute("data-object-position");t=t||"cover",i=i||"50% 50%";var a=e.parentNode;return n(a),r(e),e.style.position="absolute",e.style.width="auto",e.style.height="auto","scale-down"===t&&(t=e.clientWidth<a.clientWidth&&e.clientHeight<a.clientHeight?"none":"contain"),"none"===t?(o("x",e,i),void o("y",e,i)):"fill"===t?(e.style.width="100%",e.style.height="100%",o("x",e,i),void o("y",e,i)):(e.style.height="100%",void("cover"===t&&e.clientWidth>a.clientWidth||"contain"===t&&e.clientWidth<a.clientWidth?(e.style.top="0",e.style.marginTop="0",o("x",e,i)):(e.style.width="100%",e.style.height="auto",e.style.left="0",e.style.marginLeft="0",o("y",e,i))))},a=function(e){if(void 0===e||e instanceof Event)e=document.querySelectorAll("[data-object-fit]");else if(e&&e.nodeName)e=[e];else{if("object"!=typeof e||!e.length||!e[0].nodeName)return!1;e=e}for(var n=0;n<e.length;n++)if(e[n].nodeName){var r=e[n].nodeName.toLowerCase();if("img"===r){if(t)continue;e[n].complete?i(e[n]):e[n].addEventListener("load",function(){i(this)})}else"video"===r?e[n].readyState>0?i(e[n]):e[n].addEventListener("loadedmetadata",function(){i(this)}):i(e[n])}return!0};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.addEventListener("resize",a),window.objectFitPolyfill=a}else window.objectFitPolyfill=function(){return!1}}}(),function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function o(e){return parseFloat(e)||0}function i(e){
for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}function a(){function n(){e.pageXOffset!=c.left?(c.top=e.pageYOffset,c.left=e.pageXOffset,b.refreshAll()):e.pageYOffset!=c.top&&(c.top=e.pageYOffset,c.left=e.pageXOffset,p.forEach(function(e){return e._recalcPosition()}))}function r(){i=setInterval(function(){p.forEach(function(e){return e._fastCheck()})},500)}function o(){clearInterval(i)}if(!d){d=!0,n(),e.addEventListener("scroll",n),e.addEventListener("resize",b.refreshAll),e.addEventListener("orientationchange",b.refreshAll);var i=void 0,a=void 0,s=void 0;"hidden"in t?(a="hidden",s="visibilitychange"):"webkitHidden"in t&&(a="webkitHidden",s="webkitvisibilitychange"),s?(t[a]||r(),t.addEventListener(s,function(){t[a]?o():r()})):r()}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=!1,f=void 0!==e;f&&e.getComputedStyle?function(){var e=t.createElement("div");["","-webkit-","-moz-","-ms-"].some(function(t){try{e.style.position=t+"sticky"}catch(e){}return""!=e.style.position})&&(l=!0)}():l=!0;var d=!1,u="undefined"!=typeof ShadowRoot,c={top:null,left:null},p=[],h=function(){function a(e){if(n(this,a),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(p.some(function(t){return t._node===e}))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,p.push(this),this.refresh()}return s(a,[{key:"refresh",value:function(){if(!l&&!this._removed){this._active&&this._deactivate();var n=this._node,a=getComputedStyle(n),s={position:a.position,top:a.top,display:a.display,marginTop:a.marginTop,marginBottom:a.marginBottom,marginLeft:a.marginLeft,marginRight:a.marginRight,cssFloat:a.cssFloat};if(!isNaN(parseFloat(s.top))&&"table-cell"!=s.display&&"none"!=s.display){this._active=!0;var f=n.style.position;"sticky"!=a.position&&"-webkit-sticky"!=a.position||(n.style.position="static");var d=n.parentNode,c=u&&d instanceof ShadowRoot?d.host:d,p=n.getBoundingClientRect(),h=c.getBoundingClientRect(),b=getComputedStyle(c);this._parent={node:c,styles:{position:c.style.position},offsetHeight:c.offsetHeight},this._offsetToWindow={left:p.left,right:t.documentElement.clientWidth-p.right},this._offsetToParent={top:p.top-h.top-o(b.borderTopWidth),left:p.left-h.left-o(b.borderLeftWidth),right:-p.right+h.right-o(b.borderRightWidth)},this._styles={position:f,top:n.style.top,bottom:n.style.bottom,left:n.style.left,right:n.style.right,width:n.style.width,marginTop:n.style.marginTop,marginLeft:n.style.marginLeft,marginRight:n.style.marginRight};var g=o(s.top);this._limits={start:p.top+e.pageYOffset-g,end:h.top+e.pageYOffset+c.offsetHeight-o(b.borderBottomWidth)-n.offsetHeight-g-o(s.marginBottom)};var v=b.position;"absolute"!=v&&"relative"!=v&&(c.style.position="relative"),this._recalcPosition();var m=this._clone={};m.node=t.createElement("div"),r(m.node.style,{width:p.right-p.left+"px",height:p.bottom-p.top+"px",marginTop:s.marginTop,marginBottom:s.marginBottom,marginLeft:s.marginLeft,marginRight:s.marginRight,cssFloat:s.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),d.insertBefore(m.node,n),m.docOffsetTop=i(m.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var e=c.top<=this._limits.start?"start":c.top>=this._limits.end?"end":"middle";if(this._stickyMode!=e){switch(e){case"start":r(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":r(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":r(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=e}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(i(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,r(this._node.style,this._styles),delete this._styles,p.some(function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node})||r(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var e=this;this._deactivate(),p.some(function(t,n){if(t._node===e._node)return p.splice(n,1),!0}),this._removed=!0}}]),a}(),b={stickies:p,Sticky:h,forceSticky:function(){l=!1,a(),this.refreshAll()},addOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}for(var t=0;t<p.length;t++)if(p[t]._node===e)return p[t];return new h(e)},add:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length){for(var t=[],n=function(n){var r=e[n];return r instanceof HTMLElement?p.some(function(e){if(e._node===r)return t.push(e),!0})?"continue":void t.push(new h(r)):(t.push(void 0),"continue")},r=0;r<e.length;r++)n(r);return t}},refreshAll:function(){p.forEach(function(e){return e.refresh()})},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}p.some(function(t){if(t._node===e)return t.remove(),!0})},remove:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length)for(var t=function(t){var n=e[t];p.some(function(e){if(e._node===n)return e.remove(),!0})},n=0;n<e.length;n++)t(n)},removeAll:function(){for(;p.length;)p[0].remove()}};l||a(),"undefined"!=typeof module&&module.exports?module.exports=b:f&&(e.Stickyfill=b)}(window,document),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Trianglify=e()}}(function(){var e;return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){var n=e[a][1][t];return o(n||t)},d,d.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({"./lib/trianglify.js":[function(e,t){function n(e){function t(e,t,n){return(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0]}function n(e){return{x:(e[0][0]+e[1][0]+e[2][0])/3,y:(e[0][1]+e[1][1]+e[2][1])/3}}function a(){if(e.palette instanceof Array)return e.palette[Math.floor(u()*e.palette.length)];var t=Object.keys(e.palette);return e.palette[t[Math.floor(u()*t.length)]]}function d(e,t){var n={};for(var r in e)n[r]=e[r];for(r in t){if(!e.hasOwnProperty(r))throw new Error(r+" is not a configuration option for Trianglify. Check your spelling?");n[r]=t[r]}return n}var u,c;if(e=d(f,e),u=o(e.seed),"random"===e.x_colors&&(e.x_colors=a()),"random"===e.y_colors&&(e.y_colors=a()),"match_x"===e.y_colors&&(e.y_colors=e.x_colors),!(e.width>0&&e.height>0))throw new Error("Width and height must be numbers greater than 0");if(e.cell_size<2)throw new Error("Cell size must be greater than 2.");if(e.color_function)c=function(t,n){return i(e.color_function(t,n))};else{var p=i.scale(e.x_colors).mode(e.color_space),h=i.scale(e.y_colors).mode(e.color_space);c=function(t,n){return i.interpolate(p(t),h(n),.5,e.color_space)}}for(var b=e.width,g=e.height,v=Math.floor((b+4*e.cell_size)/e.cell_size),m=Math.floor((g+4*e.cell_size)/e.cell_size),y=(v*e.cell_size-b)/2,_=(m*e.cell_size-g)/2,w=e.cell_size*e.variance/2,x=function(e){return t(e,[-y,b+y],[0,1])},C=function(e){return t(e,[-_,g+_],[0,1])},A=e.points||s(b,g,y,_,e.cell_size,w,u),z=r.triangulate(A),$=[],k=function(e){return A[e]},E=0;E<z.length;E+=3){var M=[z[E],z[E+1],z[E+2]].map(k),N=n(M),I=c(x(N.x),C(N.y)).hex();$.push([I,M])}return l($,e)}var r=e("delaunay-fast"),o=e("seedrandom"),i=e("chroma-js"),a=e("./colorbrewer"),s=e("./points"),l=e("./pattern"),f={width:600,height:400,cell_size:75,variance:.75,seed:null,x_colors:"random",y_colors:"match_x",palette:a,color_space:"lab",color_function:null,stroke_width:1.51,points:void 0};n.colorbrewer=a,n.defaults=f,t.exports=n},{"./colorbrewer":"/Users/qrohlf/Code/trianglify/lib/colorbrewer.js","./pattern":"/Users/qrohlf/Code/trianglify/lib/pattern.js","./points":"/Users/qrohlf/Code/trianglify/lib/points.js","chroma-js":"/Users/qrohlf/Code/trianglify/node_modules/chroma-js/chroma.js","delaunay-fast":"/Users/qrohlf/Code/trianglify/node_modules/delaunay-fast/delaunay.js",seedrandom:"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/index.js"}],"/Users/qrohlf/Code/trianglify/lib/colorbrewer.js":[function(e,t){t.exports={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]}},{}],"/Users/qrohlf/Code/trianglify/lib/pattern.js":[function(e,t){(function(n){function r(t,r){function i(e){var n=o.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("width",r.width),n.setAttribute("height",r.height),e&&e.includeNamespace&&n.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.forEach(function(e){var t=o.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M"+e[1].join("L")+"Z"),t.setAttribute("fill",e[0]),t.setAttribute("stroke",e[0]),t.setAttribute("stroke-width",r.stroke_width),n.appendChild(t)}),n}function a(i){var a;if(void 0!==n)try{e("canvas")}catch(s){throw Error("The optional node-canvas dependency is needed for Trianglify to render using canvas in node.")}return i||(i=o.createElement("canvas")),i.setAttribute("width",r.width),i.setAttribute("height",r.height),(a=i.getContext("2d")).canvas.width=r.width,a.canvas.height=r.height,t.forEach(function(e){a.fillStyle=a.strokeStyle=e[0],a.lineWidth=r.stroke_width,a.beginPath(),a.moveTo.apply(a,e[1][0]),a.lineTo.apply(a,e[1][1]),a.lineTo.apply(a,e[1][2]),a.fill(),a.stroke()}),i}function s(){return a().toDataURL("image/png")}return{polys:t,opts:r,svg:i,canvas:a,png:s}}var o="undefined"!=typeof document?document:e("jsdom").jsdom("<html/>");t.exports=r}).call(this,e("_process"))},{_process:"/Users/qrohlf/Code/trianglify/node_modules/process/browser.js",canvas:"/Users/qrohlf/Code/trianglify/node_modules/browser-resolve/empty.js",jsdom:"/Users/qrohlf/Code/trianglify/node_modules/browser-resolve/empty.js"}],"/Users/qrohlf/Code/trianglify/lib/points.js":[function(e,t){function n(e,t,n,r,o,i,a){for(var s=e+n,l=t+r,f=.5*o,d=2*i,u=-i,c=[],p=-n;s>p;p+=o)for(var h=-r;l>h;h+=o){var b=p+f+(a()*d+u),g=h+f+(a()*d+u);c.push([Math.floor(b),Math.floor(g)])}return c}t.exports=n},{}],"/Users/qrohlf/Code/trianglify/node_modules/browser-resolve/empty.js":[function(){},{}],"/Users/qrohlf/Code/trianglify/node_modules/chroma-js/chroma.js":[function(t,n,r){(function(){var t,o,i,a,s,l,f,d,u,c,p,h,b,g,v,m,y,_,w,x,C,A,z,$,k,E,M,N,I,j,L,P,S,O;d=function(e,n,r,o){return new t(e,n,r,o)},null!=n&&null!=n.exports&&(n.exports=d),"function"==typeof e&&e.amd?e([],function(){return d}):(null!=r?r:this).chroma=d,d.color=function(e,n,r,o){return new t(e,n,r,o)},d.hsl=function(e,n,r,o){return new t(e,n,r,o,"hsl")},d.hsv=function(e,n,r,o){return new t(e,n,r,o,"hsv")},d.rgb=function(e,n,r,o){return new t(e,n,r,o,"rgb")},d.hex=function(e){return new t(e)},d.css=function(e){return new t(e)},d.lab=function(e,n,r){return new t(e,n,r,"lab")},d.lch=function(e,n,r){return new t(e,n,r,"lch")},d.hsi=function(e,n,r){return new t(e,n,r,"hsi")},d.gl=function(e,n,r,o){return new t(255*e,255*n,255*r,o,"gl")},d.interpolate=function(e,n,r,o){return null==e||null==n?"#000":("string"===L(e)&&(e=new t(e)),"string"===L(n)&&(n=new t(n)),e.interpolate(r,n,o))},d.mix=d.interpolate,d.contrast=function(e,n){var r,o;return"string"===L(e)&&(e=new t(e)),"string"===L(n)&&(n=new t(n)),(r=e.luminance())>(o=n.luminance())?(r+.05)/(o+.05):(o+.05)/(r+.05)},d.luminance=function(e){return d(e).luminance()},d._Color=t,t=function(){function e(){var e,t,n,r,o,i,a,s,l,f,d,c,p,m,_;for(o=this,n=[],l=0,f=arguments.length;f>l;l++)null!=(t=arguments[l])&&n.push(t);if(0===n.length)i=(d=[255,0,255,1,"rgb"])[0],a=d[1],s=d[2],e=d[3],r=d[4];else if("array"===L(n[0])){if(3===n[0].length)i=(c=n[0])[0],a=c[1],s=c[2],e=1;else{if(4!==n[0].length)throw"unknown input argument";i=(p=n[0])[0],a=p[1],s=p[2],e=p[3]}r=null!=(m=n[1])?m:"rgb"}else"string"===L(n[0])?(i=n[0],r="hex"):"object"===L(n[0])?(i=(_=n[0]._rgb)[0],a=_[1],s=_[2],e=_[3],r="rgb"):n.length>=3&&(i=n[0],a=n[1],s=n[2]);3===n.length?(r="rgb",e=1):4===n.length?"string"===L(n[3])?(r=n[3],e=1):"number"===L(n[3])&&(r="rgb",e=n[3]):5===n.length&&(e=n[3],r=n[4]),null==e&&(e=1),"rgb"===r?o._rgb=[i,a,s,e]:"gl"===r?o._rgb=[255*i,255*a,255*s,e]:"hsl"===r?(o._rgb=g(i,a,s),o._rgb[3]=e):"hsv"===r?(o._rgb=v(i,a,s),o._rgb[3]=e):"hex"===r?o._rgb=h(i):"lab"===r?(o._rgb=y(i,a,s),o._rgb[3]=e):"lch"===r?(o._rgb=x(i,a,s),o._rgb[3]=e):"hsi"===r&&(o._rgb=b(i,a,s),o._rgb[3]=e),u(o._rgb)}return e.prototype.rgb=function(){return this._rgb.slice(0,3)},e.prototype.rgba=function(){return this._rgb},e.prototype.hex=function(){return $(this._rgb)},e.prototype.toString=function(){return this.name()},e.prototype.hsl=function(){return E(this._rgb)},e.prototype.hsv=function(){return M(this._rgb)},e.prototype.lab=function(){return N(this._rgb)},e.prototype.lch=function(){return I(this._rgb)},e.prototype.hsi=function(){return k(this._rgb)},e.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},e.prototype.luminance=function(t,n){var r,o,i,a;return null==n&&(n="rgb"),arguments.length?(0===t&&(this._rgb=[0,0,0,this._rgb[3]]),1===t&&(this._rgb=[255,255,255,this._rgb[3]]),r=A(this._rgb),o=1e-7,i=20,a=function(e,r){var s,l;return s=(l=e.interpolate(.5,r,n)).luminance(),Math.abs(t-s)<o||!i--?l:s>t?a(e,l):a(l,r)},this._rgb=(r>t?a(new e("black"),this):a(this,new e("white"))).rgba(),this):A(this._rgb)},e.prototype.name=function(){var e,t;for(t in e=this.hex(),d.colors)if(e===d.colors[t])return t;return e},e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.css=function(e){var t,n,r,o;return null==e&&(e="rgb"),r=(n=this)._rgb,3===e.length&&r[3]<1&&(e+="a"),"rgb"===e?e+"("+r.slice(0,3).map(Math.round).join(",")+")":"rgba"===e?e+"("+r.slice(0,3).map(Math.round).join(",")+","+r[3]+")":"hsl"===e||"hsla"===e?(o=function(e){return Math.round(100*e)/100},(t=n.hsl())[0]=o(t[0]),t[1]=o(100*t[1])+"%",t[2]=o(100*t[2])+"%",4===e.length&&(t[3]=r[3]),e+"("+t.join(",")+")"):void 0},e.prototype.interpolate=function(t,n,r){var o,i,a,s,l,f,d,u,c,p,h,b,g;if(d=this,null==r&&(r="rgb"),"string"===L(n)&&(n=new e(n)),"hsl"===r||"hsv"===r||"lch"===r||"hsi"===r)"hsl"===r?(b=d.hsl(),g=n.hsl()):"hsv"===r?(b=d.hsv(),g=n.hsv()):"hsi"===r?(b=d.hsi(),g=n.hsi()):"lch"===r&&(b=d.lch(),g=n.lch()),"h"===r.substr(0,1)?(i=b[0],p=b[1],l=b[2],a=g[0],h=g[1],f=g[2]):(l=b[0],p=b[1],i=b[2],f=g[0],h=g[1],a=g[2]),isNaN(i)||isNaN(a)?isNaN(i)?isNaN(a)?o=Number.NaN:(o=a,1!==l&&0!==l||"hsv"===r||(c=h)):(o=i,1!==f&&0!==f||"hsv"===r||(c=p)):o=i+t*(a>i&&a-i>180?a-(i+360):i>a&&i-a>180?a+360-i:a-i),null==c&&(c=p+t*(h-p)),s=l+t*(f-l),u="h"===r.substr(0,1)?new e(o,c,s,r):new e(s,c,o,r);else if("rgb"===r)b=d._rgb,g=n._rgb,u=new e(b[0]+t*(g[0]-b[0]),b[1]+t*(g[1]-b[1]),b[2]+t*(g[2]-b[2]),r);else{if("lab"!==r)throw"color mode "+r+" is not supported";b=d.lab(),g=n.lab(),u=new e(b[0]+t*(g[0]-b[0]),b[1]+t*(g[1]-b[1]),b[2]+t*(g[2]-b[2]),r)}return u.alpha(d.alpha()+t*(n.alpha()-d.alpha())),u},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),d(t[0]*e,t[1]*e,t[2]*e,e)},e.prototype.darken=function(e){var t,n;return null==e&&(e=20),(t=(n=this).lch())[0]-=e,d.lch(t).alpha(n.alpha())},e.prototype.darker=function(e){return this.darken(e)},e.prototype.brighten=function(e){return null==e&&(e=20),this.darken(-e)},e.prototype.brighter=function(e){return this.brighten(e)},e.prototype.saturate=function(e){var t,n;return null==e&&(e=20),(t=(n=this).lch())[1]+=e,d.lch(t).alpha(n.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=20),this.saturate(-e)},e}(),u=function(e){var t;for(t in e)3>t?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},p=function(e){var t,n,r,o,i,a,s,l;if(e=e.toLowerCase(),null!=d.colors&&d.colors[e])return h(d.colors[e]);if(r=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(o=r.slice(1,4),n=i=0;2>=i;n=++i)o[n]=+o[n];o[3]=1}else if(r=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(o=r.slice(1,5),n=a=0;3>=a;n=++a)o[n]=+o[n];else if(r=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(o=r.slice(1,4),n=s=0;2>=s;n=++s)o[n]=Math.round(2.55*o[n]);o[3]=1}else if(r=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(o=r.slice(1,5),n=l=0;2>=l;n=++l)o[n]=Math.round(2.55*o[n]);o[3]=+o[3]}else(r=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((t=r.slice(1,4))[1]*=.01,t[2]*=.01,(o=g(t))[3]=1):(r=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((t=r.slice(1,4))[1]*=.01,t[2]*=.01,(o=g(t))[3]=+r[4]);return o},h=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,255&n];if(t=p(e))return t;throw"unknown color: "+e},b=function(e,t,n){var r,a,s,l;return e=(l=P(arguments))[0],t=l[1],n=l[2],1/3>(e/=360)?a=1-((r=(1-t)/3)+(s=(1+t*c(i*e)/c(o-i*e))/3)):2/3>e?r=1-((s=(1-t)/3)+(a=(1+t*c(i*(e-=1/3))/c(o-i*e))/3)):s=1-((a=(1-t)/3)+(r=(1+t*c(i*(e-=2/3))/c(o-i*e))/3)),[255*(s=C(n*s*3)),255*(a=C(n*a*3)),255*(r=C(n*r*3))]},g=function(){var e,t,n,r,o,i,a,s,l,f,d,u,c,p;if(r=(c=P(arguments))[0],s=c[1],i=c[2],0===s)a=n=e=255*i;else{for(t=[0,0,0],l=2*i-(f=.5>i?i*(1+s):i+s-i*s),r/=360,(d=[0,0,0])[0]=r+1/3,d[1]=r,d[2]=r-1/3,o=u=0;2>=u;o=++u)d[o]<0&&(d[o]+=1),d[o]>1&&(d[o]-=1),t[o]=6*d[o]<1?l+6*(f-l)*d[o]:2*d[o]<1?f:3*d[o]<2?l+(f-l)*(2/3-d[o])*6:l;a=(p=[Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])])[0],n=p[1],e=p[2]}return[a,n,e]},v=function(){var e,t,n,r,o,i,a,s,l,f,d,u,c,p,h,b,g,v;if(r=(u=P(arguments))[0],l=u[1],d=u[2],d*=255,0===l)s=n=e=d;else switch(360===r&&(r=0),r>360&&(r-=360),0>r&&(r+=360),r/=60,o=Math.floor(r),t=r-o,i=d*(1-l),a=d*(1-l*t),f=d*(1-l*(1-t)),o){case 0:s=(c=[d,f,i])[0],n=c[1],e=c[2];break;case 1:s=(p=[a,d,i])[0],n=p[1],e=p[2];break;case 2:s=(h=[i,d,f])[0],n=h[1],e=h[2];break;case 3:s=(b=[i,a,d])[0],n=b[1],e=b[2];break;case 4:s=(g=[f,i,d])[0],n=g[1],e=g[2];break;case 5:s=(v=[d,i,a])[0],n=v[1],e=v[2]}return[s=Math.round(s),n=Math.round(n),e=Math.round(e)]},a=.95047,s=1,l=1.08883,m=function(){var e,t,n,r;return n=(r=P(arguments))[0],e=r[1],t=r[2],[n,Math.sqrt(e*e+t*t),Math.atan2(t,e)/Math.PI*180]},y=function(e,t,n){var r,o,i,f,d,u,c;return void 0!==e&&3===e.length&&(e=(u=e)[0],t=u[1],n=u[2]),void 0!==e&&3===e.length&&(e=(c=e)[0],t=c[1],n=c[2]),d=(f=(e+16)/116)-n/200,i=_(i=f+t/500)*a,f=_(f)*s,d=_(d)*l,o=O(3.2404542*i-1.5371385*f-.4985314*d),r=O(-.969266*i+1.8760108*f+.041556*d),n=O(.0556434*i-.2040259*f+1.0572252*d),[C(o,0,255),C(r,0,255),C(n,0,255),1]},_=function(e){return e>.206893034?e*e*e:(e-4/29)/7.787037},O=function(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))},w=function(){var e,t,n,r;return n=(r=P(arguments))[0],e=r[1],t=(t=r[2])*Math.PI/180,[n,Math.cos(t)*e,Math.sin(t)*e]},x=function(e,t,n){var r,o,i,a,s,l,f;return r=(l=w(e,t,n))[0],o=l[1],i=l[2],s=(f=y(r,o,i))[0],a=f[1],i=f[2],[C(s,0,255),C(a,0,255),C(i,0,255)]},A=function(e,t,n){var r;return e=(r=P(arguments))[0],t=r[1],n=r[2],.2126*(e=z(e))+.7152*(t=z(t))+.0722*(n=z(n))},z=function(e){return.03928>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)},$=function(){var e,t;return"#"+(e="000000"+((t=P(arguments))[0]<<16|t[1]<<8|t[2]).toString(16)).substr(e.length-6)},k=function(){var e,t,n,r,o,i,a,s;return i=(s=P(arguments))[0],n=s[1],t=s[2],e=2*Math.PI,i/=255,n/=255,t/=255,0===(a=1-Math.min(i,n,t)/(o=(i+n+t)/3))?r=0:(r=(i-n+(i-t))/2,r/=Math.sqrt((i-n)*(i-n)+(i-t)*(n-t)),r=Math.acos(r),t>n&&(r=e-r),r/=e),[360*r,a,o]},E=function(e,t,n){var r,o,i,a,s,l;return void 0!==e&&e.length>=3&&(e=(l=e)[0],t=l[1],n=l[2]),e/=255,t/=255,n/=255,a=Math.min(e,t,n),o=((i=Math.max(e,t,n))+a)/2,i===a?(s=0,r=Number.NaN):s=.5>o?(i-a)/(i+a):(i-a)/(2-i-a),e===i?r=(t-n)/(i-a):t===i?r=2+(n-e)/(i-a):n===i&&(r=4+(e-t)/(i-a)),0>(r*=60)&&(r+=360),[r,s,o]},M=function(){var e,t,n,r,o,i,a,s,l,f;return a=(f=P(arguments))[0],n=f[1],e=f[2],i=Math.min(a,n,e),t=(o=Math.max(a,n,e))-i,l=o/255,0===o?(r=Number.NaN,s=0):(s=t/o,a===o&&(r=(n-e)/t),n===o&&(r=2+(e-a)/t),e===o&&(r=4+(a-n)/t),0>(r*=60)&&(r+=360)),[r,s,l]},N=function(){var e,t,n,r,o,i;return n=(i=P(arguments))[0],t=i[1],e=i[2],n=j(n),t=j(t),e=j(e),r=S((.4124564*n+.3575761*t+.1804375*e)/a),[116*(o=S((.2126729*n+.7151522*t+.072175*e)/s))-16,500*(r-o),200*(o-S((.0193339*n+.119192*t+.9503041*e)/l))]},j=function(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},S=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},I=function(){var e,t,n,r,o,i,a;return o=(i=P(arguments))[0],n=i[1],t=i[2],r=(a=N(o,n,t))[0],e=a[1],t=a[2],m(r,e,t)},d.scale=function(e,t){var n,r,o,i,a,s,l,f,u,c,p,h,b,g,v,m,y,_,w;return g="rgb",v=d("#ccc"),w=0,!1,p=[0,1],u=[],y=!1,_=[],b=0,h=1,c=!1,m=0,f={},a=function(e,t){var n,r,o,a,s,l,f;if(null==e&&(e=["#ddd","#222"]),null!=e&&"string"===L(e)&&null!=(null!=(s=d.brewer)?s[e]:void 0)&&(e=d.brewer[e]),"array"===L(e)){for(n=o=0,l=(e=e.slice(0)).length-1;l>=0?l>=o:o>=l;n=l>=0?++o:--o)r=e[n],"string"===L(r)&&(e[n]=d(r));if(null!=t)_=t;else for(_=[],n=a=0,f=e.length-1;f>=0?f>=a:a>=f;n=f>=0?++a:--a)_.push(n/(e.length-1))}return i(),u=e},s=function(e){return null==e&&(e=[]),p=e,b=e[0],h=e[e.length-1],i(),m=2===e.length?0:e.length-1},r=function(e){var t,n;if(null!=p){for(n=p.length-1,t=0;n>t&&e>=p[t];)t++;return t-1}return 0},l=function(e){return e},function(e){var t,n,o,i,a;return a=e,p.length>2&&(i=p.length-1,t=r(e),o=p[0]+(p[1]-p[0])*(0+.5*w),n=p[i-1]+(p[i]-p[i-1])*(1-.5*w),a=b+(p[t]+.5*(p[t+1]-p[t])-o)/(n-o)*(h-b)),a},o=function(e,t){var n,o,i,a,s,c,y;if(null==t&&(t=!1),isNaN(e))return v;if(t?s=e:p.length>2?s=r(e)/(m-1):(s=b!==h?(e-b)/(h-b):0,s=(e-b)/(h-b),s=Math.min(1,Math.max(0,s))),t||(s=l(s)),i=Math.floor(1e4*s),f[i])n=f[i];else{if("array"===L(u))for(o=c=0,y=_.length-1;y>=0?y>=c:c>=y;o=y>=0?++c:--c){if((a=_[o])>=s){n=u[o];break}if(s>=a&&o===_.length-1){n=u[o];break}if(s>a&&s<_[o+1]){s=(s-a)/(_[o+1]-a),n=d.interpolate(u[o],u[o+1],s,g);break}}else"function"===L(u)&&(n=u(s));f[i]=n}return n},i=function(){return f={}},a(e,t),(n=function(e){var t;return t=o(e),y&&t[y]?t[y]():t}).domain=function(e,t,r,o){var i;return null==r&&(r="e"),arguments.length?(null!=t&&(i=d.analyze(e,o),e=0===t?[i.min,i.max]:d.limits(i,r,t)),s(e),n):p},n.mode=function(e){return arguments.length?(g=e,i(),n):g},n.range=function(e,t){return a(e,t),n},n.out=function(e){return y=e,n},n.spread=function(e){return arguments.length?(w=e,n):w},n.correctLightness=function(e){return arguments.length?(c=e,i(),l=c?function(e){var t,n,r,i,a,s,l,f,d;for(t=o(0,!0).lab()[0],n=o(1,!0).lab()[0],l=t>n,r=o(e,!0).lab()[0],i=r-(a=t+(n-t)*e),f=0,d=1,s=20;Math.abs(i)>.01&&s-- >0;)l&&(i*=-1),0>i?(f=e,e+=.5*(d-e)):(d=e,e+=.5*(f-e)),r=o(e,!0).lab()[0],i=r-a;return e}:function(e){return e},n):c},n.colors=function(t){var r,o,i,a,s,l;if(null==t&&(t="hex"),e=[],o=[],p.length>2)for(r=i=1,l=p.length;l>=1?l>i:i>l;r=l>=1?++i:--i)o.push(.5*(p[r-1]+p[r]));else o=p;for(a=0,s=o.length;s>a;a++)r=o[a],e.push(n(r)[t]());return e},n},null==d.scales&&(d.scales={}),d.scales.cool=function(){return d.scale([d.hsl(180,1,.9),d.hsl(250,.7,.4)])},d.scales.hot=function(){return d.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},d.analyze=function(e,t,n){var r,o,i,a,s,l;if(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(i.values.push(e),i.sum+=e,e<i.min&&(i.min=e),e>i.max&&(i.max=e),i.count+=1)},a=function(e,o){return n(e,o)?null!=t&&"function"===L(t)?r(t(e)):null!=t&&"string"===L(t)||"number"===L(t)?r(e[t]):r(e):void 0},"array"===L(e))for(s=0,l=e.length;l>s;s++)a(e[s]);else for(o in e)a(e[o],o);return i.domain=[i.min,i.max],i.limits=function(e,t){return d.limits(i,e,t)},i},d.limits=function(e,t,n){var r,o,i,a,s,l,f,u,c,p,h,b,g,v,m,y,_,w,x,C,A,z,$,k,E,M,N,I,j,P,S,O,T,q,B,F,U,H,R,D,W,G,Y,V,X,Q,Z,K,J,ee,te,ne,re,oe,ie;if(null==t&&(t="equal"),null==n&&(n=7),"array"===L(e)&&(e=d.analyze(e)),g=e.min,h=e.max,e.sum,E=e.values.sort(function(e,t){return e-t}),p=[],"c"===t.substr(0,1)&&(p.push(g),p.push(h)),"e"===t.substr(0,1)){for(p.push(g),f=M=1,F=n-1;F>=1?F>=M:M>=F;f=F>=1?++M:--M)p.push(g+f/n*(h-g));p.push(h)}else if("l"===t.substr(0,1)){if(0>=g)throw"Logarithmic scales are only possible for values > 0";for(v=Math.LOG10E*Math.log(g),b=Math.LOG10E*Math.log(h),p.push(g),f=N=1,Y=n-1;Y>=1?Y>=N:N>=Y;f=Y>=1?++N:--N)p.push(Math.pow(10,v+f/n*(b-v)));p.push(h)}else if("q"===t.substr(0,1)){for(p.push(g),f=I=1,V=n-1;V>=1?V>=I:I>=V;f=V>=1?++I:--I)x=E.length*f/n,(C=Math.floor(x))===x?p.push(E[C]):(A=x-C,p.push(E[C]*A+E[C+1]*(1-A)));p.push(h)}else if("k"===t.substr(0,1)){for(y=E.length,r=new Array(y),s=new Array(n),z=!0,_=0,i=null,(i=[]).push(g),f=j=1,X=n-1;X>=1?X>=j:j>=X;f=X>=1?++j:--j)i.push(g+f/n*(h-g));for(i.push(h);z;){for(u=P=0,Q=n-1;Q>=0?Q>=P:P>=Q;u=Q>=0?++P:--P)s[u]=0;for(f=S=0,Z=y-1;Z>=0?Z>=S:S>=Z;f=Z>=0?++S:--S){for(k=E[f],m=Number.MAX_VALUE,u=O=0,K=n-1;K>=0?K>=O:O>=K;u=K>=0?++O:--O)m>(l=Math.abs(i[u]-k))&&(m=l,o=u);s[o]++,r[f]=o}for(w=new Array(n),u=T=0,J=n-1;J>=0?J>=T:T>=J;u=J>=0?++T:--T)w[u]=null;for(f=q=0,ee=y-1;ee>=0?ee>=q:q>=ee;f=ee>=0?++q:--q)null===w[a=r[f]]?w[a]=E[f]:w[a]+=E[f];for(u=B=0,U=n-1;U>=0?U>=B:B>=U;u=U>=0?++B:--B)w[u]*=1/s[u];for(z=!1,u=te=0,H=n-1;H>=0?H>=te:te>=H;u=H>=0?++te:--te)if(w[u]!==i[f]){z=!0;break}i=w,++_>200&&(z=!1)}for(c={},u=ne=0,R=n-1;R>=0?R>=ne:ne>=R;u=R>=0?++ne:--ne)c[u]=[];for(f=re=0,D=y-1;D>=0?D>=re:re>=D;f=D>=0?++re:--re)c[a=r[f]].push(E[f]);for($=[],u=oe=0,W=n-1;W>=0?W>=oe:oe>=W;u=W>=0?++oe:--oe)$.push(c[u][0]),$.push(c[u][c[u].length-1]);for($=$.sort(function(e,t){return e-t}),p.push($[0]),f=ie=1,G=$.length-1;G>=ie;f=ie+=2)isNaN($[f])||p.push($[f])}return p},d.brewer={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],
Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},d.colors={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},L=function(){var e,t,n,r,o;for(e={},n=0,r=(o="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r>n;n++)t=o[n],e["[object "+t+"]"]=t.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),C=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),t>e&&(e=t),e>n&&(e=n),e},P=function(e){return e.length>=3?e:e[0]},i=2*Math.PI,o=Math.PI/3,c=Math.cos,f=function(e){var t,n,r,o,i,a,s,l,u,c,p;return 2===(e=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],r.push(d(o));return r}()).length?(u=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],r.push(o.lab());return r}(),i=u[0],a=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push(i[t]+e*(a[t]-i[t]));return r}(),d.lab.apply(d,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],r.push(o.lab());return r}(),i=c[0],a=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*i[t]+2*(1-e)*e*a[t]+e*e*s[t]);return r}(),d.lab.apply(d,n)}):4===e.length?(p=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)o=e[t],r.push(o.lab());return r}(),i=p[0],a=p[1],s=p[2],l=p[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]);return r}(),d.lab.apply(d,n)}):5===e.length&&(n=f(e.slice(0,3)),r=f(e.slice(2,5)),t=function(e){return.5>e?n(2*e):r(2*(e-.5))}),t},d.interpolate.bezier=f}).call(this)},{}],"/Users/qrohlf/Code/trianglify/node_modules/delaunay-fast/delaunay.js":[function(e,t){var n;!function(){"use strict";function e(e){var t,n,r,o,i,a,s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<s&&(s=e[t][0]),e[t][0]>f&&(f=e[t][0]),e[t][1]<l&&(l=e[t][1]),e[t][1]>d&&(d=e[t][1]);return r=d-l,[[(i=s+.5*(n=f-s))-20*(o=Math.max(n,r)),(a=l+.5*r)-o],[i,a+20*o],[i+20*o,a-o]]}function r(e,t,n,r){var o,a,s,l,f,d,u,c,p,h,b=e[t][0],g=e[t][1],v=e[n][0],m=e[n][1],y=e[r][0],_=e[r][1],w=Math.abs(g-m),x=Math.abs(m-_);if(i>w&&i>x)throw new Error("Eek! Coincident points!");return i>w?a=(l=-(y-v)/(_-m))*((o=(v+b)/2)-(d=(v+y)/2))+(c=(m+_)/2):i>x?a=(s=-(v-b)/(m-g))*((o=(y+v)/2)-(f=(b+v)/2))+(u=(g+m)/2):(o=((s=-(v-b)/(m-g))*(f=(b+v)/2)-(l=-(y-v)/(_-m))*(d=(v+y)/2)+(c=(m+_)/2)-(u=(g+m)/2))/(s-l),a=w>x?s*(o-f)+u:l*(o-d)+c),{i:t,j:n,k:r,x:o,y:a,r:(p=v-o)*p+(h=m-a)*h}}function o(e){var t,n,r,o,i,a;for(n=e.length;n;)for(o=e[--n],r=e[--n],t=n;t;)if(a=e[--t],r===(i=e[--t])&&o===a||r===a&&o===i){e.splice(n,2),e.splice(t,2);break}}var i=1/1048576;n={triangulate:function(t,n){var a,s,l,f,d,u,c,p,h,b,g,v,m=t.length;if(3>m)return[];if(t=t.slice(0),n)for(a=m;a--;)t[a]=t[a][n];for(l=new Array(m),a=m;a--;)l[a]=a;for(l.sort(function(e,n){return t[n][0]-t[e][0]}),f=e(t),t.push(f[0],f[1],f[2]),d=[r(t,m+0,m+1,m+2)],u=[],c=[],a=l.length;a--;c.length=0){for(v=l[a],s=d.length;s--;)(p=t[v][0]-d[s].x)>0&&p*p>d[s].r?(u.push(d[s]),d.splice(s,1)):p*p+(h=t[v][1]-d[s].y)*h-d[s].r>i||(c.push(d[s].i,d[s].j,d[s].j,d[s].k,d[s].k,d[s].i),d.splice(s,1));for(o(c),s=c.length;s;)g=c[--s],b=c[--s],d.push(r(t,b,g,v))}for(a=d.length;a--;)u.push(d[a]);for(d.length=0,a=u.length;a--;)u[a].i<m&&u[a].j<m&&u[a].k<m&&d.push(u[a].i,u[a].j,u[a].k);return d},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var n=e[1][0]-e[0][0],r=e[2][0]-e[0][0],o=e[1][1]-e[0][1],i=e[2][1]-e[0][1],a=n*i-r*o;if(0===a)return null;var s=(i*(t[0]-e[0][0])-r*(t[1]-e[0][1]))/a,l=(n*(t[1]-e[0][1])-o*(t[0]-e[0][0]))/a;return 0>s||0>l||s+l>1?null:[s,l]}},void 0!==t&&(t.exports=n)}()},{}],"/Users/qrohlf/Code/trianglify/node_modules/process/browser.js":[function(e,t){function n(){if(!a){a=!0;for(var e,t=i.length;t;){e=i,i=[];for(var n=-1;++n<t;)e[n]();t=i.length}a=!1}}function r(){}var o=t.exports={},i=[],a=!1;o.nextTick=function(e){i.push(e),a||setTimeout(n,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=r,o.addListener=r,o.once=r,o.off=r,o.removeListener=r,o.removeAllListeners=r,o.emit=r,o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/index.js":[function(e,t){var n=e("./lib/alea"),r=e("./lib/xor128"),o=e("./lib/xorwow"),i=e("./lib/xorshift7"),a=e("./lib/xor4096"),s=e("./lib/tychei"),l=e("./seedrandom");l.alea=n,l.xor128=r,l.xorwow=o,l.xorshift7=i,l.xor4096=a,l.tychei=s,t.exports=l},{"./lib/alea":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/alea.js","./lib/tychei":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/tychei.js","./lib/xor128":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor128.js","./lib/xor4096":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor4096.js","./lib/xorshift7":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorshift7.js","./lib/xorwow":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorwow.js","./seedrandom":"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/seedrandom.js"}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/alea.js":[function(t,n){!function(e,t,n){function r(e){var t=this,n=a();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}function a(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.alea=i}(0,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/tychei.js":[function(t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.tychei=i}(0,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor128.js":[function(t,n){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xor128=i}(0,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xor4096.js":[function(t,n){!function(e,t,n){function r(e){function t(e,t){var n,r,o,i,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;l>i;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}var n=this;n.next=function(){var e,t,r=n.w,o=n.X,i=n.i;return n.w=r=r+1640531527|0,t=o[i+34&127],e=o[i=i+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=o[i]=t^e,n.i=i,t+(r^r>>>16)|0},t(n,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xor4096=i}(0,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorshift7.js":[function(t,n){!function(e,t,n){function r(e){function t(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;8>n&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}var n=this;n.next=function(){var e,t,r=n.x,o=n.i;return e=r[o],t=(e^=e>>>7)^e<<24,t^=(e=r[o+1&7])^e>>>10,t^=(e=r[o+3&7])^e>>>3,t^=(e=r[o+4&7])^e<<7,e=r[o+7&7],t^=(e^=e<<13)^e<<9,r[o]=t,n.i=o+1&7,t},t(n,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xorshift7=i}(0,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/lib/xorwow.js":[function(t,n){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n(function(){return i}):this.xorwow=i}(0,"object"==typeof n&&n,"function"==typeof e&&e)},{}],"/Users/qrohlf/Code/trianglify/node_modules/seedrandom/seedrandom.js":[function(t,n){!function(r,o){function i(e,t,n){var i=[],c=f(l((t=1==t?{entropy:!0}:t||{}).entropy?[e,u(r)]:null==e?d():e,3),i),p=new a(i),g=function(){for(var e=p.g(b),t=m,n=0;y>e;)e=(e+n)*h,t*=h,n=p.g(1);for(;e>=_;)e/=2,t/=2,n>>>=1;return(e+n)/t};return g.int32=function(){return 0|p.g(4)},g.quick=function(){return p.g(4)/4294967296},g.double=g,f(u(p.S),r),(t.pass||n||function(e,t,n,r){return r&&(r.S&&s(r,p),e.state=function(){return s(p,{})}),n?(o[v]=e,t):e})(g,c,"global"in t?t.global:this==o,t.state)}function a(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);h>o;)a[o]=o++;for(o=0;h>o;o++)a[o]=a[i=w&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=w&o+1],n=n*h+a[w&(a[o]=a[i=w&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(h)}function s(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function l(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(l(e[n],t-1))}catch(i){}return r.length?r:"string"==o?e:e+"\0"}function f(e,t){for(var n,r=e+"",o=0;o<r.length;)t[w&o]=w&(n^=19*t[w&o])+r.charCodeAt(o++);return u(t)}function d(){try{if(c)return u(c.randomBytes(h));var e=new Uint8Array(h);return(p.crypto||p.msCrypto).getRandomValues(e),u(e)}catch(t){var n=p.navigator,o=n&&n.plugins;return[+new Date,p,o,p.screen,u(r)]}}function u(e){return String.fromCharCode.apply(0,e)}var c,p=this,h=256,b=6,g=52,v="random",m=o.pow(h,b),y=o.pow(2,g),_=2*y,w=h-1;if(o["seed"+v]=i,f(o.random(),r),"object"==typeof n&&n.exports){n.exports=i;try{c=t("crypto")}catch(x){}}else"function"==typeof e&&e.amd&&e(function(){return i})}([],Math)},{crypto:!1}]},{},["./lib/trianglify.js"])("./lib/trianglify.js")}),$(".product-thumbnails li a").click(function(){var e=$(this).attr("href"),t=$(this).data("srcset");return $(".primary-product-image").attr("src",e),$(".primary-product-image").attr("data-srcset",t),$(".product-thumbnails li").removeClass("active"),$(this).parent().addClass("active"),!1}),$(".product_option_select").on("change",function(){enableAddButton($(this).find("option:selected").attr("data-price"))}),$(".search-container .search-button").click(function(){$("#desktop-search").addClass("active").focus()}),$("html").click(function(e){0===$(e.target).closest(".search-container").length&&$("#desktop-search").removeClass("active").blur()}),$(".open-dropdown").click(function(){$(this).toggleClass("dropdown-visible"),$("body").toggleClass("no-scroll"),$(".mobile-navigation").toggleClass("visible"),$(".hide-header").length&&("block"==$(".hide-header").css("display")?$(".hide-header").fadeOut(100,function(){$(".store-link").fadeIn(100)}):$(".store-link").fadeToggle(100,function(){$(".hide-header").fadeToggle(100)}))});var isGreaterThanZero=function(e){return e>0};Array.prototype.equals=function(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){function n(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return!1;for(var i=0|t,a=Math.max(i>=0?i:o-Math.abs(i),0);a<o;){if(n(r[a],e))return!0;a++}return!1}}),Array.prototype.count=function(e){return this.reduce((t,n)=>e(n)?t+1:t,0)},$(".announcement-message-close").click(function(){$(".announcement-message").slideUp("fast",function(){$(".announcement-message").removeClass("visible"),setCookie("hide-announcement-message",hashedMessage,7),$(".header").css("top",0)})}),document.addEventListener("DOMContentLoaded",function(){draw_pattern();var e,t,n=$(".header"),r=$("#main").eq(0),o=r.attr("style")||"",i="page-head-scrolled";$(window).resize(function(){draw_pattern(),e=n.outerHeight(),t=$(".announcement-message.visible").outerHeight()>0?$(".announcement-message.visible").outerHeight():0}).resize().scroll(function(){$(this).scrollTop()>t?(n.addClass(i),e=n.outerHeight(),r.css("margin-top",e)):(n.removeClass(i),r.attr("style",o))}).on("load",function(){$(this).scroll()})}),$(document).ready(function(){$(".nav").setup_navigation()});var keyCodeMap={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};$.fn.setup_navigation=function(e){e=jQuery.extend({menuHoverClass:"show-menu"},e),$(this).attr("role","menubar").find("li").attr("role","menuitem");var t=$(this).find("> li > a");$(t).next("ul").attr("data-test","true").attr({"aria-hidden":"true",role:"menu"}).find("a").attr("tabIndex",-1),$(t).each(function(){$(this).next("ul").length>0&&$(this).parent("li").attr("aria-haspopup","true")}),$(t).hover(function(){$(this).closest("ul").attr("aria-hidden","false").find("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1),$(this).next("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0)}),$(".nav").mouseleave(function(){$(this).find(".clicked").length||$("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1)}),$(t).focus(function(){$(this).closest("ul").find("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1),$(this).next("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0)}),$(t).keydown(function(t){37==t.keyCode?(t.preventDefault(),0==$(this).parent("li").prev("li").length?$(this).parents("ul").find("> li").last().find("a").first().focus():$(this).parent("li").prev("li").find("a").first().focus()):38==t.keyCode?(t.preventDefault(),$(this).parent("li").find("ul").length>0&&$(this).parent("li").find("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0).last().focus()):39==t.keyCode?(t.preventDefault(),0==$(this).parent("li").next("li").length?$(this).parents("ul").find("> li").first().find("a").first().focus():$(this).parent("li").next("li").find("a").first().focus()):40==t.keyCode?(t.preventDefault(),$(this).parent("li").find("ul").length>0&&$(this).parent("li").find("ul").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0).first().focus()):13==t.keyCode||32==t.keyCode?(t.preventDefault(),$(this).parent("li").find("ul[aria-hidden=true]").attr("aria-hidden","false").addClass(e.menuHoverClass).find("a").attr("tabIndex",0).first().focus()):27==t.keyCode?(t.preventDefault(),$("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1)):$(this).parent("li").find("ul[aria-hidden=false] a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!1})});var n=$(t).parent("li").find("ul").find("a");$(n).keydown(function(t){if(38==t.keyCode)t.preventDefault(),0==$(this).parent("li").prev("li").length?$(this).parents("ul").parents("li").find("a").first().focus():$(this).parent("li").prev("li").find("a").first().focus();else if(40==t.keyCode)t.preventDefault(),0==$(this).parent("li").next("li").length?$(this).parents("ul").parents("li").find("a").first().focus():$(this).parent("li").next("li").find("a").first().focus();else if(27==t.keyCode||37==t.keyCode)t.preventDefault(),$(this).parents("ul").first().prev("a").focus().parents("ul").first().find("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1);else if(32==t.keyCode)t.preventDefault(),window.location=$(this).attr("href");else{var n=!1;$(this).parent("li").nextAll("li").find("a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),n=!0,!1}),n||$(this).parent("li").prevAll("li").find("a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!1})}}),$(this).find("a").last().keydown(function(t){9==t.keyCode&&$("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1)}),$(document).click(function(){$("."+e.menuHoverClass).attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1)}),$(this).click(function(e){e.stopPropagation()}),$(".close-nav-menu").click(function(t){t.preventDefault(),$(this).parent().attr("aria-hidden","true").removeClass(e.menuHoverClass).find("a").attr("tabIndex",-1)}),$('.nav-menu-item[aria-haspopup="true"]').click(function(){$(this).toggleClass("clicked")}),$('.nav-menu-item[aria-haspopup="true"] > a').click(function(e){e.preventDefault()})},$("body").on("click",".item-delete",function(e){e.preventDefault(),item_id=$(this).closest(".cart-item").data("item-id"),new_val=0,Cart.updateItem(item_id,new_val,function(e){processUpdate("",item_id,"",e)})}).on("change",".option-quantity",function(){item_id=$(this).closest(".cart-item").data("item-id"),new_val=$(this).val(),input=$(this),Cart.updateItem(item_id,new_val,function(e){processUpdate(input,item_id,new_val,e)})}).on("keydown",".option-quantity",function(e){if(13==e.keyCode)return item_id=$(this).closest(".cart-item").data("item-id"),new_val=$(this).val(),input=$(this),Cart.updateItem(item_id,new_val,function(e){processUpdate(input,item_id,new_val,e)}),e.preventDefault(),!1});var processUpdate=function(e,t,n,r){var o=strip_tags(Format.money(r.total,!0,!0)),i=r.item_count;return $(".cart-subtotal-amount").fadeOut(100,function(){$(".cart-subtotal-amount").html(o),$(".cart-subtotal-amount").fadeIn(500)}),$(".cart-subtotal-amount, .cart-num-items").fadeOut(100,function(){$(".cart-subtotal-amount").html(o),$(".cart-num-items").html(Format.pluralize(i,"item","items")),$(".cart-subtotal-amount, .cart-num-items").fadeIn(500)}),0==i?$(".cart-form").slideUp("fast",function(){$(".cart-page").addClass("empty-cart"),$("html, body").animate({scrollTop:0},"fast")}):($(".cart-errors").hide(),e&&e.val(n)),0==n&&$('.cart-item[data-item-id="'+t+'"]').slideUp("fast"),!1};